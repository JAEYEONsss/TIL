# 스프링 시큐리티 with JWT _ 로그인 과정

* 23학년도 파란학기제를 진행하면서 "유통기한이 임박한 식품을 판매할 수 있는 플랫폼"을 제작 중입니다.

* 역할 _ 백엔드 개발자 (회원인증/ 인가, 회원가입 로직 구현)

* 회원인증/ 인가를 위해서 로그인 서비스를 개발했으며, 진행 과정을 작성하고자 합니다.

## 로그인 개발에 앞서 알아야 할 것들
* CSR : Client Side Rendering의 약자로 클라이언트 사이드에서 데이터를 요청하면 서버가 그에 대한 응답으로 JSON, XML 등의 데이터를 제공하고, 클라이언트 사이드에서 해당 데이터를 이용해서 화면을 그려내는 구조입니다.     

* 쿠키 (Cookie) : 클라이언트 측에서 사용되는 작은 파일입니다. 클라이언트 측에서는 쿠키를 생성하여 저장하고, 서버에 요청을 보낼 때, 쿠키를 서버에 전달합니다. 보통, 세션과 함께 사용됩니다.
* 세션 (Session) : 서버 측에서 클라이언트의 상태를 저장하고, 유지하는 기술입니다.    
클라이언트가 서버에 요청을 보내면 서버는 클라이언트를 구분하는 고유한 세션 ID를 발급하여 세션 ID와 함께 클라이언트에게 응답합니다. 클라이언트는 이후 요청 시 발급받은 세션 ID를 서버에 보내면 서버는 이를 통해 클라이언트의 상태 정보를 가져와 요청을 처리합니다.   
세션은 쿠키(Cookie)와 함께 사용되며, 서버는 클라이언트에게 발급한 세션 ID를 쿠키에 저장하여 클라이언트의 요청 시 마다 세션 ID를 확인합니다. 이를 통해 클라이언트의 상태 정보를 유지할 수 있습니다.   
* JWT (JSON Web Token): 클라이언트와 서버 간 정보를 안전하게 전송하기 위해 사용됩니다.   
서버에서 사용자 인증 정보가 저장되어 있는 토큰을 발급하고 클라이언트 측에 전송을 하면 그 때부터, 클라이언트가 JWT를 관리하게 됩니다.   
   
## 프로젝트에 사용된 기술   
* 타임셀러(유통기한이 임박한 식품 플랫폼)는 JWT를 사용해서 로그인을 진행했습니다. 사용한 이유는 다음과 같습니다.   
1) 쿠키는 보안 처리없이 세션 ID를 저장하는 반면에, JWT는 강력한 보안처리를 통해 토큰이 탈취되어도 정보가 유츌될 가능성이 낮고, 토큰이 위조될 가능성도 낮습니다.
2) 타임셀러는 CSR 형태의 애플리케이션입니다. CSR은 stateless한 구조인 반면 쿠키, 세션의 경우에는 상태 정보를 저장합니다. JWT는 stateless한 구조를 갖고 있기 때문에, 애플리케이션 구조와 적합하다고 판단되어 JWT를 사용하게 되었습니다.

## 프로젝트 구조
```
---esg
|-Config
    |-CustomSecurityConfig.Java
|-Security
    |-Filter
        |-AutoLoginCheckFilter.Java
        |-LoginFilter.Java
        |-TokenCheckFilter.Java
    |-Handler
        |-LoginSuccessHandler.Java
    |-CustomUserDetailService.Java
|-Util
    |-JWTUtil.Java
```
* 위와 같은 구조로 프로젝트를 만들어서 진행했습니다.   
앞으로 작성할 글은 위의 파일들과 함께, 로그인 진행 과정에 대해서 설명하겠습니다.